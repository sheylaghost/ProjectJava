import java.io.*;
import java.util.*;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        HashMap<String, String> respostas = new HashMap<>();
        Random random = new Random();

        // ðŸ”¹ Carrega a memÃ³ria do arquivo (se existir)
        try {
            File file = new File("memoria.txt");
            if (file.exists()) {
                BufferedReader br = new BufferedReader(new FileReader(file));
                String linha;
                while ((linha = br.readLine()) != null) {
                    String[] partes = linha.split("=", 2);
                    if (partes.length == 2) {
                        respostas.put(partes[0], partes[1]);
                    }
                }
                br.close();
            }
        } catch (IOException e) {
            System.out.println("Erro ao carregar memÃ³ria: " + e.getMessage());
        }

        System.out.print("ðŸ‘‹ Qual serÃ¡ o nome do seu assistente? ");
        String nome = scanner.nextLine();

        System.out.println("Assistente " + nome + " iniciado! Fale com ele (digite '/sair' para encerrar)\n");

        while (true) {
            System.out.print("VocÃª: ");
            String pergunta = scanner.nextLine().toLowerCase();

            if (pergunta.equals("/sair")) {
                System.out.println(nome + ": AtÃ© logo! ðŸ‘‹");
                break;
            }

            // EmoÃ§Ãµes aleatÃ³rias
            String[] emocao = {"ðŸ˜Š", "ðŸ¤”", "ðŸ˜Ž", "ðŸ˜´", "ðŸ˜¡", "ðŸ˜„"};
            String emoji = emocao[random.nextInt(emocao.length)];

            // Se jÃ¡ souber a resposta
            if (respostas.containsKey(pergunta)) {
                System.out.println(nome + " " + emoji + ": " + respostas.get(pergunta));
            } else {
                System.out.println(nome + " " + emoji + ": NÃ£o sei responder isso ðŸ˜…. O que devo dizer?");
                System.out.print("VocÃª ensina: ");
                String novaResposta = scanner.nextLine();
                respostas.put(pergunta, novaResposta);
                System.out.println(nome + ": Entendido! Vou lembrar disso ðŸ˜‰\n");
            }
        }

        // ðŸ”¹ Salva tudo que foi aprendido
        try {
            BufferedWriter bw = new BufferedWriter(new FileWriter("memoria.txt"));
            for (String chave : respostas.keySet()) {
                bw.write(chave + "=" + respostas.get(chave));
                bw.newLine();
            }
            bw.close();
        } catch (IOException e) {
            System.out.println("Erro ao salvar memÃ³ria: " + e.getMessage());
        }

        scanner.close();
    }
}